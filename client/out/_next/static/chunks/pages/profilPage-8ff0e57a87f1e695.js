(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{9978:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profilPage",function(){return l(1276)}])},7418:function(e,t,l){"use strict";l.d(t,{Z:function(){return i}});var s=l(5893),a=l(5867),r=l(7294);function i(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let l=()=>{!e&&window.pageYOffset>200?t(!0):e&&window.pageYOffset<=200&&t(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[e]),(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)(a.E.div,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),initial:{opacity:.2,y:0},animate:{opacity:1,y:"10px"},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"fixed bottom-4 right-4 cursor-pointer  p-2 rounded-full",children:(0,s.jsxs)("svg",{viewBox:"0 0 38 24",fill:"none",width:50,height:50,children:[(0,s.jsx)("path",{d:"M5 9C5 7.14348 5.73754 5.36305 7.05029 4.05029C8.36305 2.73754 10.1435 2 12 2C13.8565 2 15.637 2.73754 16.9498 4.05029C18.2625 5.36305 19 7.14348 19 9V15C19 16.8565 18.2625 18.6371 16.9498 19.9498C15.637 21.2626 13.8565 21.9999 12 21.9999C10.1435 21.9999 8.36305 21.2626 7.05029 19.9498C5.73754 18.6371 5 16.8565 5 15Z",stroke:"#000000",strokeWidth:"1"}),(0,s.jsx)("path",{d:"M12 18V10",stroke:"#000000",strokeWidth:"1"}),(0,s.jsx)("path",{d:"M9 13L12 10L15 13",stroke:"#000000",strokeWidth:"1"})]})})})}},1276:function(e,t,l){"use strict";l.r(t);var s=l(5893),a=l(7294),r=l(7418),i=l(1163),n=l(8677),o=l(5675),c=l.n(o),d=l(5121),u=l(4299),m=l(7629);t.default=function(){let e=(0,i.useRouter)(),[{userInfo:t},l]=(0,n.C4)(),[o,h]=(0,a.useState)(!0),[f,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(void 0),[j,N]=(0,a.useState)(""),[w,v]=(0,a.useState)({userName:"",fullName:"",description:""}),b=async()=>{try{let s=document.cookie.split("; ").find(e=>e.startsWith("jwt=")).split("=")[1];if((await d.Z.patch(u.bu,w,{headers:{Authorization:"Bearer ".concat(s)},withCredentials:!0})).data.userNameError){N("Enter a Unique Username");return}if(p){let e=new FormData;e.append("file",p);let a=await d.Z.post(u.GJ,e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});if(a.data.error){console.error("Failed to upload profile image");return}l({type:m.J.SET_USER,userInfo:{...t,...w,image:!!a.data.img&&HOST+"/"+a.data.img}})}e.push("/")}catch(e){console.error(e)}},y=e=>{v({...w,[e.target.name]:e.target.value})},C="block p-4 w-full text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50  focus:ring-blue-500 focus:border-blue-500",k="mb-2 text-lg font-medium text-gray-900";return(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-[80vh] gap-3",children:[j&&(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"bg-red-600 font-bold",children:j})}),(0,s.jsx)("h2",{className:"text-3xl",children:"Welcome to Your Spot"}),(0,s.jsx)("h4",{className:"text-xl",children:"Please complete your Dev profile to get started"}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-full gap-5",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center cursor-pointer",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[(0,s.jsx)("label",{className:k,htmlFor:"profileImage",children:"Pic a Picture"}),(0,s.jsx)("label",{htmlFor:"profileImage",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"bg-blue-300 h-36 w-36 flex items-center justify-center rounded-full relative",children:[p?(0,s.jsx)(c(),{src:URL.createObjectURL(p),alt:"Profile",fill:!0,className:"rounded-full"}):(0,s.jsx)("span",{className:"text-8xl text-white",children:null==t?void 0:t.email.charAt(0).toUpperCase()}),f&&(0,s.jsx)("div",{className:"absolute bg-slate-500 h-full w-full rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:" flex items-center justify-center  relative",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-white absolute",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})}),(0,s.jsx)("input",{id:"profileImage",type:"file",onChange:e=>{let t=e.target.files;["image/gif","image/jpeg","image/png"].includes(t[0].type)&&g(t[0])},className:"hidden",multiple:!0,name:"profileImage"})]})})]}),(0,s.jsxs)("div",{className:"flex-gap-4 w-[400px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:k,htmlFor:"username",children:"Pic a Username"}),(0,s.jsx)("input",{type:"text",name:"userName",placeholder:"Username",className:C,value:w.userName,onChange:y})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:k,htmlFor:"FullName",children:"Your Full Name"}),(0,s.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",className:C,value:w.fullName,onChange:y})]})]}),(0,s.jsxs)("div",{className:"flex flex-col w-[500px] mt-8 justify-center text-center",children:[(0,s.jsx)("label",{className:k,htmlFor:"description",children:"About You"}),(0,s.jsx)("textarea",{name:"description",id:"description",value:w.description,onChange:y,className:C,placeholder:"Tell us something intresting..."})]}),(0,s.jsx)("button",{className:"border   text-lg font-semibold px-5 py-3   border-blue-400 bg-blue-300 text-white rounded-md",type:"button",onClick:b,children:"Set Profile"})]})]}),(0,s.jsx)(r.Z,{})]})}}},function(e){e.O(0,[867,888,774,179],function(){return e(e.s=9978)}),_N_E=e.O()}]);